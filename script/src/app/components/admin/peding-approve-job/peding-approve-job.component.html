<div class="pl-3">
  <h1 class="text-center mt-3 font-bold text-xl">Các đơn đang chờ xử lí</h1>
  <nz-table [nzShowPagination]="false" #basicTable [nzData]="listJob">
    <thead>
      <tr>
        <th>#</th>
        <th>Tên công việc đăng tuyển</th>
        <th>Email người ứng tuyển</th>
        <th>Trạng thái</th>
        <th>Ngày nộp cv</th>
        <th>CV</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of listJob; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ data?.jobName }}</td>
        <td>
          {{ data?.email }}
        </td>
        <td>{{ data?.status }}</td>
        <td>{{ data?.created_At }}</td>
        <td>
          <button
            class="w-24 bg-green-500 hover:bg-green-300 text-white p-1 rounded-md"
            (click)="dowloadCV(data?.id)"
          >
            Xem CV
          </button>
        </td>
        <td>
          <button
            class="w-24 bg-blue-500 hover:bg-blue-300 text-white p-1 rounded-md mr-5"
            (click)="approve(data)"
          >
            Đồng ý
          </button>
          <button
            class="w-24 bg-red-500 hover:bg-red-300 text-white p-1 rounded-md"
            (click)="reject(data)"
          >
            Từ chối
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>
  <div class="flex justify-center" *ngIf="totalPage > 0">
    <nz-pagination
      [nzPageIndex]="page"
      [nzTotal]="totalPage * 10"
      (nzPageIndexChange)="pageActive($event)"
    ></nz-pagination>
  </div>
  <!-- <nz-modal
    [(nzVisible)]="isVisible"
    nzTitle="Gửi lịch phỏng vấn"
    (nzOnCancel)="handleCancel()"
    (nzOnOk)="handleOk()"
  >
    <nz-spin [nzSpinning]="true">
      <ng-container *nzModalContent>
        <div class="grid grid-cols-1 mb-2">
          <label for="name" class="block">Thời gian</label>
          <input
            type="datetime-local"
            id="time"
            class="w-full border border-gray-300 rounded-md px-3 py-2 outline-blue-300"
            [(ngModel)]="time"
          />
        </div>
        <div class="grid grid-cols-1 mb-2">
          <label for="email" class="block">Địa điểm</label>
          <input
            type="text"
            id="address"
            class="w-full border border-gray-300 rounded-md px-3 py-2 outline-blue-300"
            [(ngModel)]="address"
          />
        </div>
      </ng-container>
    </nz-spin>
  </nz-modal> -->
  <nz-modal
    [(nzVisible)]="isVisible"
    nzTitle="Gửi lịch phỏng vấn"
    (nzOnCancel)="handleCancel()"
    (nzOnOk)="handleOk()"
  >
      <ng-container *nzModalContent>
        <nz-spin [nzSpinning]="isSpinning">
        <div class="grid grid-cols-1 mb-2">
          <label for="name" class="block">Thời gian</label>
          <input
            type="datetime-local"
            id="time"
            class="w-full border border-gray-300 rounded-md px-3 py-2 outline-blue-300"
            [(ngModel)]="time"
          />
        </div>
        <div class="grid grid-cols-1 mb-2">
          <label for="email" class="block">Địa điểm</label>
          <input
            type="text"
            id="address"
            class="w-full border border-gray-300 rounded-md px-3 py-2 outline-blue-300"
            [(ngModel)]="address"
          />
        </div>
      </nz-spin>
      </ng-container>
  </nz-modal>
</div>
